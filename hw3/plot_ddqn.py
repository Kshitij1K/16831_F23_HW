#! /bin/python3

import numpy as np

if __name__=='__main__':
    data_test1 = [
        -236.7694854736328,
        -217.65713500976562,
        -207.61585998535156,
        -196.61280822753906,
        -174.21546936035156,
        -138.2761688232422,
        -114.96456146240234,
        -106.90718078613281,
        -93.53947448730469,
        -86.27760314941406,
        -72.40873718261719,
        -64.96134948730469,
        -53.19667434692383,
        -26.72666358947754,
        -3.3906052112579346,
        12.33778190612793,
        39.19880676269531,
        66.45350646972656,
        66.629638671875,
        71.54832458496094,
        75.56893920898438,
        82.44824981689453,
        80.05599212646484,
        74.64933776855469,
        68.92316436767578,
        60.717777252197266,
        53.39780807495117,
        45.6905517578125,
        49.305843353271484,
        54.4494743347168
    ]

    data_test2 = [
        -226.16696166992188,
        -200.90274047851562,
        -193.26173400878906,
        -186.41159057617188,
        -177.3418731689453,
        -166.60653686523438,
        -153.6722869873047,
        -139.3905792236328,
        -142.32130432128906,
        -135.7656707763672,
        -124.37364959716797,
        -95.4095687866211,
        -76.77645111083984,
        -26.1000919342041,
        -1.4125975370407104,
        30.91399574279785,
        48.550636291503906,
        49.0596809387207,
        45.11393737792969,
        37.36521530151367,
        35.93218231201172,
        39.999977111816406,
        46.608551025390625,
        45.02143096923828,
        71.31723022460938,
        104.67032623291016,
        119.12415313720703,
        148.12403869628906,
        156.24044799804688,
        156.88961791992188
    ]

    data_test3 = [
        -257.8250732421875,
        -218.17953491210938,
        -208.73619079589844,
        -202.7607421875,
        -183.5149688720703,
        -161.28199768066406,
        -129.71127319335938,
        -107.24430084228516,
        -86.43986511230469,
        -62.911441802978516,
        -55.440147399902344,
        -35.44386672973633,
        -16.41814422607422,
        1.3622950315475464,
        9.943380355834961,
        25.58375358581543,
        49.29482650756836,
        71.78186798095703,
        80.96844482421875,
        96.83222961425781,
        95.59435272216797,
        81.36402130126953,
        79.82880401611328,
        72.91545104980469,
        85.71460723876953,
        101.4033203125,
        108.512939453125,
        109.66521453857422,
        120.14636993408203,
        123.79499053955078
    ]

    data_test1 = np.array(data_test1)
    data_test2 = np.array(data_test2)
    data_test3 = np.array(data_test3)

    data = np.vstack([data_test1, data_test2, data_test3])
    avg_returns = np.average(data, axis = 0)
    std_returns = np.std(data, axis = 0)

    time = np.arange(len(avg_returns)) * 10000

    # Plot the average returns with std_returns as error bar
    import matplotlib.pyplot as plt
    plt.plot(time, avg_returns)
    plt.errorbar(time, avg_returns, yerr = std_returns)
    
    # The x label should be in scientific notation
    plt.ticklabel_format(style='sci', axis='x', scilimits=(0,0))
    plt.xlabel('Time Steps')
    plt.ylabel('Average Returns')
    plt.title('Average Returns with DDQN')
    plt.savefig('plot_ddqn.png')